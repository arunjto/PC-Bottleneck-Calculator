<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Instantly check your PC for component bottlenecks. Our free calculator analyzes your CPU and GPU to prevent performance loss and help you build a balanced system.">
    <title>PC Bottleneck Calculator - Check Your CPU & GPU Balance</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20fill%3D%22%233f51b5%22%20d%3D%22M2%2C0A2%2C2%2C0%2C0%2C0%2C0%2C2V14a2%2C2%2C0%2C0%2C0%2C2%2C2H14a2%2C2%2C0%2C0%2C0%2C2-2V2a2%2C2%2C0%2C0%2C0-2-2ZM4%2C2H6V4H4ZM8%2C2h2V4H8Zm4%2C0h2V4H12ZM4%2C6H6V8H4Zm4%2C0h2V8H8Zm4%2C0h2V8H12ZM4%2C10H6v2H4Zm4%2C0h2v2H8Zm4%2C0h2v2H12Z%22%2F%3E%3C%2Fsvg%3E">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V8L14 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 14H15" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 17H15" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 11H11" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Bottleneck Calculator</span>
            </div>
             <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-toggle">
                    <input type="checkbox" id="theme-toggle" />
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </header>
    <main>
        <div class="container" id="calculator-view">
            <h1>PC Performance & Bottleneck Calculator</h1>
            <p class="subtitle">Select your components to analyze your PC's performance balance.</p>
            <div class="calculator-card">
                <div class="input-group">
                    <label for="cpu-select">Processor (CPU)</label>
                    <select id="cpu-select"><option value="">-- Select CPU --</option></select>
                </div>
                <div class="input-group">
                    <label for="gpu-select">Graphics Card (GPU)</label>
                    <select id="gpu-select"><option value="">-- Select GPU --</option></select>
                </div>
                <div class="input-group">
                    <label for="resolution-select">Target Resolution</label>
                     <select id="resolution-select">
                        <option value="1080p">1080p (1920x1080)</option>
                        <option value="1440p" selected>1440p (2560x1440)</option>
                        <option value="4k">4K (3840x2160)</option>
                        <option value="ultrawide">Ultrawide (3440x1440)</option>
                    </select>
                </div>
                 <div class="advanced-options">
                    <button id="toggle-advanced" class="toggle-btn">Advanced Options ▼</button>
                    <div id="advanced-content" class="hidden">
                        <div class="input-group">
                            <label for="ram-select">System RAM</label>
                            <select id="ram-select">
                                <option value="8">8 GB</option>
                                <option value="16" selected>16 GB</option>
                                <option value="32">32 GB</option>
                                <option value="64">64+ GB</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="purpose-select">Primary Use Case</label>
                            <select id="purpose-select">
                                <option value="gaming" selected>Gaming</option>
                                <option value="streaming">Gaming & Streaming</option>
                                <option value="video_editing">Video Editing</option>
                                <option value="3d_rendering">3D Rendering & Design</option>
                                <option value="general">General & Office Use</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button id="calculate-btn">Analyze My System</button>
            </div>
        </div>

        <div class="container hidden" id="results-view">
             <!-- Results will be dynamically inserted here -->
        </div>
         <div class="container">
            <div class="interlink-box" style="text-align:center; border-left: 4px solid var(--primary);">
                <h4 style="color: var(--primary); border:none;">Curious about gaming performance?</h4>
                <p>Estimate your average Frames Per Second in popular titles with our new tool.</p>
                <a href="fps-calculator.html" style="background-color: var(--primary); color: white;">Try the FPS Estimator →</a>
            </div>
        </div>
                <!-- PASTE THIS ENTIRE BLOCK INTO YOUR INDEX.HTML, REPLACING THE PREVIOUS CONTENT BLOCK -->
        <div class="container">
            <div class="results-card">
                <h2>Understanding PC Bottlenecks: A Complete Guide to a Balanced System</h2>
                <p>Welcome to the ultimate resource for PC performance analysis. A "bottleneck" is the single most important concept to understand when building or upgrading a gaming PC. It occurs when one of your components is too slow to keep up with the others, effectively creating a "traffic jam" that limits your entire system's potential. Our <strong>PC Bottleneck Calculator</strong> is designed to instantly identify these issues for you.</p>
                <p>By preventing bottlenecks, you ensure that every dollar you spend on hardware translates directly into the performance you expect. A balanced PC is a powerful, efficient, and cost-effective PC.</p>

                <h3 style="margin-top: 2rem;">What is a CPU Bottleneck? (The "Bad" Bottleneck)</h3>
                <p>A CPU bottleneck happens when your processor (CPU) cannot process data and instructions fast enough to keep your graphics card (GPU) fully occupied. This is the most common and problematic type of bottleneck for gamers, as it leads to inconsistent performance that can't be fixed by simply lowering graphics settings.</p>
                <p><strong>Common Symptoms:</strong>
                    <ul>
                        <li>Stuttering or choppy gameplay, especially during intense action.</li>
                        <li>Low FPS in CPU-intensive games (e.g., *Valorant*, *Counter-Strike 2*, or large-scale strategy games).</li>
                        <li>Your GPU usage is unexpectedly low (e.g., 60-70%) while one or more CPU cores are at 100%.</li>
                    </ul>
                </p>

                <h3 style="margin-top: 2rem;">What is a GPU Bottleneck? (The "Good" Bottleneck)</h3>
                <p>A GPU bottleneck, also known as being "GPU limited," occurs when your graphics card is running at full capacity (99-100% usage). It is the component dictating your maximum frame rate because it's working as hard as possible to render the best visuals.</p>
                <p><strong>This is generally the ideal scenario for gaming.</strong> It means you are getting every bit of performance you paid for out of your graphics card. This typically happens when playing graphically demanding AAA titles at high resolutions (1440p or 4K) with settings like textures and ray tracing on "Ultra."</p>

                <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--border);">

                <h2>How to Fix a Bottleneck: Your Action Plan</h2>
                <p>Once our calculator identifies a bottleneck, the next step is to address it. Here are the most effective, solution-oriented steps you can take for each scenario.</p>

                <h3 style="margin-top: 2rem;">Tackling a CPU Bottleneck</h3>
                <p>If your CPU is the weak link, your primary goal is to reduce its workload or increase its performance.</p>
                <p><strong>Immediate Software & Settings Fixes:</strong>
                    <ul>
                        <li><strong>Close Background Applications:</strong> Shut down web browsers, streaming apps, and any unnecessary programs before you start a game.</li>
                        <li><strong>Lower CPU-Intensive Game Settings:</strong> In your game's options, reduce settings like "Object Detail," "Physics Quality," "Crowd Density," or "View Distance."</li>
                        <li><strong>Increase Resolution:</strong> This sounds counterintuitive, but increasing the resolution (e.g., from 1080p to 1440p) puts more stress on the GPU, which can help balance the load and make you more GPU-limited.</li>
                    </ul>
                </p>
                <p><strong>Long-Term Hardware Solutions:</strong>
                    <ul>
                        <li><strong>Overclocking:</strong> If you have adequate cooling, overclocking your CPU can provide a 5-15% performance boost, which can be enough to alleviate a minor bottleneck.</li>
                        <li><strong>Upgrade Your CPU:</strong> This is the most effective solution. Use our calculator's results to find a processor that is a better performance match for your existing graphics card.</li>
                    </ul>
                    <!-- PASTE THIS BLOCK AFTER THE "Long-Term Hardware Solutions" LISTleneck" heading.

```html
<!-- REPLACE THE PREVIOUS "Real-World Example" BLOCK WITH THIS NEW ONE -->
<div class="info-box" style="margin-top: 1.5rem;">
    <h5 style="font-size: 1.1rem;">Real-World Example: Overcoming a Mid-Range GPU Limit</h5>
    <p>Consider a user with a very popular and capable CPU like the <strong>AMD Ryzen 5 5600X</strong>, paired with an older, entry-level graphics card such as the <strong>NVIDIA GeForce GTX 1660 Super</strong>.</p>
    <p>This user wants to play modern AAA titles at 1440p resolution. While the Ryzen 5 5600X has plenty of processing power to handle the game's logic, the GTX 1660 Super would immediately hit 100% usage and struggle to produce a smooth frame rate. The user would be forced to lower the resolution and turn all graphics settings to "Low." This is a clear GPU bottleneck.</p>
    <p><strong>The Solution:</strong> By upgrading the graphics card to a modern mid-range GPU, like an <strong>NVIDIA GeForce RTX 4060</strong> or an <strong>AMD Radeon RX 7700 XT</strong>, the system's gaming potential is unlocked. The new GPU can easily handle 1440p gaming at high settings, perfectly complementing the strong performance of the Ryzen 5 5600X. The result is a dramatically improved visual experience and higher, more stable frame rates.</p>
</div>```

<!--### Why This New Example is Also Highly Effective:

*   **Targets a Huge Audience:** The Ryzen 5  IN YOUR INDEX.HTML -->
<div class="info-box" style="margin-top: 1.5rem;">
    <h5 style="font-size: 1.1rem;">Real-World Example: Upgrading Your CPU for a Modern GPU</h5>
    <p>Consider a user who just upgraded to a brand new, powerful graphics card like the <strong>NVIDIA RTX 4070</strong>. Their existing processor is a well-regarded but older CPU, such as the <strong>AMD Ryzen 5 3600</strong>.</p>
    <p>In graphically intense, single-player games at 1440p or 4K, this combination might perform reasonably well. However, when trying to achieve high frame rates in competitive eSports titles like <em>Valorant</em> or <em>Apex Legends</em> at 1080p, the user would notice that their performance hits a wall and their game stutters, no matter how much they lower the graphics settings.</p>
    <p><strong>The Solution:</strong> This is a clear CPU bottleneck. The Ryzen 5 3600, while a great chip for its time, struggles to send information fast enough to fully utilize the powerful RTX 4070. By upgrading the CPU to a modern equivalent like an <strong>AMD Ryzen 5 7600X</strong> or an <strong>Intel Core i5-14600K</strong>, the system's balance is restored. The new CPU can easily keep up, allowing the RTX 4070 to reach its full potential and deliver the fluid, high-FPS experience the user was hoping for.</p>
</div>
                </p>

                <h3 style="margin-top: 2rem;">Managing a GPU Bottleneck</h3>
                <p>Remember, this is often a good thing. The goal here isn't to eliminate the bottleneck, but to adjust it to achieve your desired frame rate.</p>
                <p><strong>Your Primary Levers for More FPS:</strong>
                    <ul>
                        <li><strong>Lower GPU-Intensive Game Settings:</strong> The biggest performance gains come from lowering "Texture Quality," "Shadow Quality," "Anti-Aliasing," and disabling "Ray Tracing."</li>
                        <li><strong>Enable Performance Scaling:</strong> Use technologies like NVIDIA DLSS, AMD FSR, or Intel XeSS. Setting them to "Performance" or "Ultra Performance" mode can dramatically boost your FPS.</li>
                        <li><strong>Lower Your Resolution:</strong> Dropping from 4K to 1440p, or 1440p to 1080p, is the single biggest FPS booster, as it significantly reduces the number of pixels your GPU needs to render.</li>
                        <li><strong>Upgrade Your GPU:</strong> If you want to maintain high settings and resolution, the ultimate solution is to upgrade to a more powerful graphics card.</li>
                    </ul>
                </p>

                <h3 style="margin-top: 2rem;">How Our Calculator Leads to a Balanced PC</h3>
                <p>Our tool analyzes the complex relationship between components so you don't have to. By entering your parts, you get an instant, data-driven analysis that empowers you to:</p>
                <ul>
                    <li><strong>Build Smarter:</strong> Avoid pairing a high-end GPU with an entry-level CPU before you buy.</li>
                    <li><strong>Upgrade with Confidence:</strong> Know exactly which component to upgrade next for the biggest performance gain.</li>
                    <li><strong>Save Money:</strong> Don't overspend on a part that your other components can't fully support.</li>
                </ul>
                <p><strong>Ready to check your build?</strong> Scroll back up and use the calculator to ensure your PC is perfectly balanced for maximum performance.</p>
            </div>
        </div>

        <div class="container">
            <div class="faq-section">
                <h2>Frequently Asked Questions</h2>
                <div class="faq-item">
                    <button class="faq-question">What is a PC bottleneck?</button>
                    <div class="faq-answer"><p>A bottleneck is a situation where one component limits the overall performance of your system. Even if you have a top-tier GPU, a weaker CPU can prevent it from reaching its full potential, creating a "bottleneck" that caps performance.</p></div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Is a CPU or GPU bottleneck worse?</button>
                    <div class="faq-answer"><p>For gaming, a slight GPU bottleneck is often ideal, as it means your graphics card is the component working the hardest to produce maximum visual quality. A significant CPU bottleneck is generally worse for gaming because it can cause stuttering and inconsistent frame rates that can't be fixed by lowering graphics settings.</p></div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">How accurate is this calculator?</button>
                    <div class="faq-answer"><p>This tool provides a highly accurate, data-driven estimate based on the relative power of components. It's an excellent guide for build planning. However, real-world performance can vary by game, application, and driver versions. We always suggest pairing this data with real-world benchmark reviews.</p></div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">Do other components like RAM cause bottlenecks?</button>
                    <div class="faq-answer"><p>Yes. While the CPU/GPU relationship is the most critical, other parts matter. Insufficient or slow RAM can cause stuttering in demanding tasks. Likewise, a slow hard drive (HDD) will drastically increase loading times compared to an SSD, creating a noticeable storage bottleneck.</p></div>
                </div>
            </div>
        </div>
    </main>
        <!-- REPLACE YOUR ENTIRE CURRENT FOOTER WITH THIS BLOCK -->
    <footer>
        <div class="footer-links">
            <a href="about.html">About Us</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="contact.html">Contact Us</a>
        </div>

        <div class="footer-social">
            <!-- IMPORTANT: Replace the # with your actual page URLs -->
            <a href="https://facebook.com/your-page-url" target="_blank" rel="noopener noreferrer" aria-label="Follow us on Facebook">
                <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M14 13.5H16.5L17.5 9.5H14V7.5C14 6.47 14 5.5 16 5.5H17.5V2.14C17.174 2.097 15.943 2 14.643 2C11.928 2 10 3.657 10 6.7V9.5H7V13.5H10V22H14V13.5Z"/></svg>
            </a>
            <a href="https://instagram.com/your-page-url" target="_blank" rel="noopener noreferrer" aria-label="Follow us on Instagram">
                <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.85-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.85s.012-3.584.07-4.85c.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.85-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.441 1.441 1.441 1.441-.645 1.441-1.441-.645-1.44-1.441-1.44z"/></svg>
            </a>
        </div>

        <p>© 2025 Bottleneck Calculator. All rights reserved.</p>
    </footer>
</body>
</html>

<style>
    :root {
        --bg-light: #f4f7fa; --fg-light: #1a202c; --card-bg-light: #ffffff; --border-light: #e2e8f0;
        --bg-dark: #1a202c; --fg-dark: #e2e8f0; --card-bg-dark: #2d3748; --border-dark: #4a5568;
        --primary: #3f51b5; --primary-hover: #303f9f; --accent: #ffc107; --danger: #f44336; --success: #4caf50;
        --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-dark: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.15);
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        margin: 0; padding: 0; display: flex; flex-direction: column; min-height: 100vh;
        background-color: var(--bg-light); color: var(--fg-light); transition: background-color 0.3s, color 0.3s;
    }
    body.dark-mode {
        --bg: var(--bg-dark); --fg: var(--fg-dark); --card-bg: var(--card-bg-dark); --border: var(--border-dark); --shadow: var(--shadow-dark);
        background-color: var(--bg-dark); color: var(--fg-dark);
    }
    body:not(.dark-mode) { --bg: var(--bg-light); --fg: var(--fg-light); --card-bg: var(--card-bg-light); --border: var(--border-light); --shadow: var(--shadow-light); }

    header { background-color: #2d3748; color: white; padding: 0 1rem; }
    .header-content { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; height: 64px; }
    .logo { display: flex; align-items: center; gap: 0.75rem; font-weight: 600; font-size: 1.1rem; }
    main { flex-grow: 1; padding: 1rem; }
    .container { max-width: 800px; margin: 0 auto 2rem auto; }
    
    h1 { font-size: 2rem; text-align: center; margin-bottom: 0.5rem; }
    .subtitle { text-align: center; margin-top: 0; margin-bottom: 2rem; font-size: 1.1rem; color: #718096; }
    .dark-mode .subtitle { color: #a0aec0; }
    
    .calculator-card, .results-card { background-color: var(--card-bg); padding: 2rem; border-radius: 8px; box-shadow: var(--shadow); }
    .input-group { margin-bottom: 1.5rem; }
    label { display: block; margin-bottom: 0.5rem; font-weight: 600; }
    select {
        width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 4px; font-size: 1rem;
        background-color: var(--card-bg); color: var(--fg);
        background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20256%20256%22%3E%3Cpath%20fill%3D%22%23718096%22%20d%3D%22m181.66%2C101.66l-48%2C48a8%2C8%2C0%2C0%2C1-11.32%2C0l-48-48a8%2C8%2C0%2C0%2C1%2C11.32-11.32L128%2C132.69l42.34-42.35a8%2C8%2C0%2C0%2C1%2C11.32%2C11.32Z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E');
        background-repeat: no-repeat; background-position: right 0.7em top 50%; background-size: 1.2em auto; appearance: none;
    }

    button#calculate-btn {
        background-color: var(--primary); color: white; padding: 0.85rem 1.5rem; border: none; border-radius: 4px;
        font-size: 1.1rem; font-weight: bold; cursor: pointer; width: 100%; transition: background-color 0.2s ease-in-out;
    }
    button#calculate-btn:hover { background-color: var(--primary-hover); }

    /* Results View */
    #results-view h2 { text-align: center; }
    .bottleneck-summary {
        padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; text-align: center;
        border: 1px solid var(--accent); background-color: rgba(255, 193, 7, 0.1);
    }
    .bottleneck-summary h3 { margin: 0 0 0.5rem 0; color: var(--accent); }
    #bottleneck-text { margin: 0; }
    .progress-bar-container { margin: 1rem 0; background-color: #e2e8f0; border-radius: 8px; }
    .dark-mode .progress-bar-container { background-color: #4a5568; }
    .progress-bar { height: 24px; border-radius: 8px; background-color: var(--accent); width: 0%; transition: width 0.5s ease-out; text-align: center; color: black; line-height: 24px; font-weight: bold;}
    .component-analysis { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem; }
    .component-card { background-color: var(--card-bg); padding: 1.5rem; border-radius: 8px; box-shadow: var(--shadow); text-align: center; border: 1px solid var(--border); }
    .component-card h4 { margin: 0 0 1rem 0; }
    .component-card img { max-width: 100px; height: 100px; object-fit: contain; margin-bottom: 1rem; }
    .component-card a { color: var(--primary); text-decoration: none; font-weight: bold; }
    .component-card a:hover { text-decoration: underline; }
    .performance-details { background-color: var(--card-bg); padding: 1.5rem; border-radius: 8px; box-shadow: var(--shadow); margin-bottom: 1.5rem; }
    .performance-details h4 { margin: 0 0 1rem 0; }
    .performance-details ul { padding-left: 20px; margin: 0; }
    .performance-details li { margin-bottom: 0.5rem; }
    .action-buttons { display: flex; justify-content: center; margin-top: 1.5rem; }
    #new-calculation-btn { background-color: #718096; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 4px; font-size: 1rem; cursor: pointer; }
    .hidden { display: none; }
    
    /* FAQ */
    .faq-section { background: var(--card-bg); padding: 2rem; border-radius: 8px; box-shadow: var(--shadow); }
    .faq-section h2 { text-align: center; margin-top: 0; margin-bottom: 1.5rem; color: var(--primary); }
    .faq-item { border-bottom: 1px solid var(--border); } .faq-item:last-child { border-bottom: none; }
    .faq-question { width: 100%; background: transparent; border: none; text-align: left; padding: 1rem 0; font-size: 1.1rem; font-weight: 600; color: var(--fg); cursor: pointer; position: relative; }
    .faq-question::after { content: '+'; font-size: 1.5rem; position: absolute; right: 0.5rem; top: 50%; transform: translateY(-50%); transition: transform 0.2s ease-in-out; color: var(--primary); }
    .faq-question.active::after { transform: translateY(-50%) rotate(45deg); }
    .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-in-out; }
    .faq-answer p { padding-bottom: 1rem; margin: 0; line-height: 1.6; }

    /* Theme Toggle */
    .theme-switch-wrapper { display: flex; align-items: center; }
    .theme-switch { position: relative; display: inline-block; width: 44px; height: 24px; }
    .theme-switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #4a5568; transition: .4s; border-radius: 34px; }
    .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
    input:checked + .slider { background-color: var(--primary); }
    input:checked + .slider:before { transform: translateX(20px); }

    /* Advanced Options */
    .advanced-options { margin: 1.5rem 0; }
    .toggle-btn { background-color: transparent; color: var(--primary); border: none; padding: 0; width: auto; font-size: 0.9rem; cursor: pointer; font-weight: bold; }

    @media (max-width: 768px) {
        .component-analysis { grid-template-columns: 1fr; }
        h1 { font-size: 1.5rem; } .subtitle { font-size: 1rem; }
    }
    
    footer { text-align: center; padding: 2rem 1rem; color: #718096; font-size: 0.9rem; margin-top: 2rem; }
    .dark-mode footer { color: #a0aec0; }
	/* Add this at the end of your <style> block */
    .footer-links {
        margin-bottom: 1rem;
        display: flex;
        justify-content: center;
        gap: 1.5rem;
    }
    .footer-links a {
        color: #718096;
        text-decoration: none;
        font-weight: 500;
    }
    .footer-links a:hover {
        color: var(--primary);
        text-decoration: underline;
    }
    .dark-mode .footer-links a {
        color: #a0aec0;
    }
    /* --- ADD THIS NEW CSS AT THE END OF YOUR <style> BLOCK --- */

.footer-social {
    display: flex;
    justify-content: center;
    gap: 1.75rem; /* The space between the icons */
    margin: 1.25rem 0;
}
.footer-social a {
    color: #718096; /* Default icon color */
    transition: color 0.2s ease-in-out, transform 0.2s ease-in-out;
    display: inline-block; /* Allows transform to work */
}
.footer-social a:hover {
    color: var(--primary); /* Icon color on hover */
    transform: scale(1.1); /* Slightly enlarge icon on hover */
}
.footer-social a svg {
    width: 26px; /* The size of the icons */
    height: 26px;
}

/* Dark mode styles for the icons */
.dark-mode .footer-social a {
    color: #a0aec0;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const data = {
        cpus: { "Intel Core i9-14900K": 100, "Intel Core i7-14700K": 95, "Intel Core i5-14600K": 90, "AMD Ryzen 9 7950X3D": 98, "AMD Ryzen 7 7800X3D": 96, "AMD Ryzen 5 7600X": 88, "Apple M3 Max": 92, "Intel Core i7-13700K": 90, "AMD Ryzen 7 5800X3D": 85, "Intel Core i5-12600K": 80, "Intel Core i7-10700K": 70, "AMD Ryzen 5 3600": 65, "Intel Core i5-9600K": 60, "Intel Core i7-7700K": 55, "Intel Core i5-4690K": 45, "Intel Core 2 Quad Q6600": 20, "Intel Pentium G4560": 30, "Intel Celeron G5905": 25, "AMD FX-8350": 35, "AMD A10-7850K": 28, "AMD Athlon X4 860K": 22, "AMD Threadripper 3990X": 99, "AMD EPYC 7763": 97, "Apple M2": 75, "Apple M1": 68, "Intel Core i9-13900K": 98, "Intel Core i5-13600K": 90, "AMD Ryzen 9 7900X": 94, "AMD Ryzen 7 7700X": 92, "AMD Ryzen 5 7600": 87, "Intel Core i9-12900K": 93, "Intel Core i7-12700K": 91, "Intel Core i5-12400": 82, "AMD Ryzen 9 5950X": 89, "AMD Ryzen 7 5800X": 84, "AMD Ryzen 5 5600X": 78, "Intel Core i9-11900K": 85, "Intel Core i7-11700K": 80, "Intel Core i5-11600K": 75, "AMD Ryzen 9 3950X": 80, "AMD Ryzen 7 3700X": 72, "AMD Ryzen 5 3600X": 68, "Intel Core i9-10900K": 78, "Intel Core i5-10600K": 65, "AMD Ryzen 9 2950X": 70, "AMD Ryzen 7 2700X": 62, "AMD Ryzen 5 2600X": 58, "Intel Core i7-8700K": 60, "Intel Core i5-8600K": 55, "Intel Core i3-8100": 40, "AMD Ryzen 7 1800X": 50, "AMD Ryzen 5 1600X": 45, "AMD Ryzen 3 1300X": 38, "Intel Core i7-6700K": 50, "Intel Core i5-6600K": 48, "Intel Core i3-6100": 35, "Intel Core i7-4790K": 42, "Intel Core i3-4130": 30, "Intel Core i7-2600K": 35, "Intel Core i5-2500K": 32, "Intel Core i3-2100": 25, "Intel Core i7-920": 20, "Intel Core i5-750": 18, "Intel Core i3-530": 15, "Intel Xeon E3-1230 V2": 40, "Intel Xeon E5-2690 V4": 70, "AMD Athlon 3000G": 20, "AMD A8-9600": 20, "AMD Threadripper 1950X": 60, "AMD EPYC 7702": 80, "Apple M3 Pro": 85, "Apple M3": 78, "Apple M2 Pro": 80, "Apple M2 Max": 88, "Apple M1 Pro": 72, "Apple M1 Max": 80, "Intel Core i9-9900K": 70, "Intel Core i7-9700K": 65, "Intel Core i5-9400F": 55, "AMD Ryzen 9 3900X": 75, "AMD Ryzen 7 3800X": 68, "AMD Ryzen 5 3500X": 60, "Intel Core i7-7700": 50, "Intel Core i5-7600": 45, "Intel Core i3-7100": 30, "AMD Ryzen 7 2700": 55, "AMD Ryzen 5 2600": 50, "AMD Ryzen 3 2200G": 35, "Intel Core i7-6700": 48, "Intel Core i5-6500": 42, "Intel Core i7-4770": 38, "Intel Core i5-4570": 35, "Intel Core i3-4160": 28, "Intel Core i7-3770": 32, "Intel Core i5-3570": 30, "Intel Core i3-3220": 22, "Intel Core i7-870": 25, "Intel Core i5-760": 20, "Intel Core i3-540": 18, "Intel Pentium G3258": 25, "Intel Celeron G1840": 15, "AMD FX-6300": 28, "AMD A8-7600": 18, "AMD Athlon X4 760K": 15, "AMD Threadripper 2990WX": 85, "AMD EPYC 7502": 90, "Apple M1 Ultra": 95, "Apple M2 Ultra": 98, "Intel Core i9-14900HX": 95, "Intel Core i7-14700HX": 90, "Intel Core i5-14500HX": 85, "AMD Ryzen 9 8945HS": 93, "AMD Ryzen 7 8840HS": 90, "AMD Ryzen 5 8640HS": 85, "Intel Core Ultra 9 185H": 92, "Intel Core Ultra 7 155H": 88, "Intel Core Ultra 5 125H": 82, "Apple M3 Pro (Laptop)": 88, "Apple M3 Max (Laptop)": 95, "Intel Core i9-13980HX": 93, "Intel Core i7-13700HX": 88, "Intel Core i5-13600HX": 83, "AMD Ryzen 9 7945HX": 91, "AMD Ryzen 7 7745HX": 87, "AMD Ryzen 5 7645HX": 82, "Intel Core i9-12900HX": 89, "Intel Core i7-12700H": 84, "Intel Core i5-12500H": 78, "AMD Ryzen 9 6900HX": 85, "AMD Ryzen 7 6800H": 80, "AMD Ryzen 5 6600H": 75, "Intel Core i9-11980HK": 82, "Intel Core i7-11800H": 77, "Intel Core i5-11400H": 72, "AMD Ryzen 9 5900HX": 78, "AMD Ryzen 7 5800H": 73, "AMD Ryzen 5 5600H": 68, "Intel Core i7-10750H": 65, "Intel Core i5-10300H": 60, "Intel Core i7-9750H": 58, "AMD Ryzen 7 3750H": 55, "AMD Ryzen 5 3550H": 50, "Intel Core i7-8750H": 52, "Intel Core i5-8300H": 48, "Intel Core i7-7700HQ": 45, "Intel Core i5-7300HQ": 40, "Intel Core i7-6700HQ": 38, "Intel Core i5-6300HQ": 35, "Intel Core i7-4700MQ": 32, "Intel Core i5-4200M": 28, "Intel Core i3-4000M": 20, "Intel Pentium N5030": 15, "Intel Celeron N4020": 10, "AMD Ryzen 7 2700U": 30, "AMD Ryzen 5 2500U": 25, "AMD Athlon 300U": 12, "Apple M2 Pro (Laptop)": 85, "Apple M2 Max (Laptop)": 92, "Apple M1 Pro (Laptop)": 75, "Apple M1 Max (Laptop)": 83, "Intel Core i9-12900HK": 88, "Intel Core i7-12800H": 83, "Intel Core i5-12600H": 77, "AMD Ryzen 9 6980HX": 87, "AMD Ryzen 7 6800HS": 82, "AMD Ryzen 5 6600HS": 76, "Intel Core i7-1165G7": 68, "Intel Core i5-1135G7": 63, "Intel Core i3-1115G4": 55, "AMD Ryzen 7 5700U": 60, "AMD Ryzen 5 5500U": 55, "AMD Ryzen 3 5300U": 48, "Intel Core i7-1065G7": 58, "Intel Core i5-1035G1": 52, "Intel Core i3-1005G1": 45, "AMD Ryzen 7 4700U": 50, "AMD Ryzen 5 4500U": 45, "AMD Ryzen 3 4300U": 38, "Intel Core i7-8550U": 40, "Intel Core i5-8250U": 35, "Intel Core i3-8130U": 28, "Intel Core i7-7500U": 30, "Intel Core i5-7200U": 25, "Intel Core i3-7100U": 20, "Intel Core i7-6500U": 28, "Intel Core i5-6200U": 22, "Intel Core i3-6100U": 18, "Intel Core i7-5500U": 25, "Intel Core i5-5200U": 20, "Intel Core i3-5005U": 15, "Intel Core i7-4500U": 22, "Intel Core i5-4200U": 18, "Intel Core i3-4010U": 12, "Intel Pentium 4415U": 10, "Intel Celeron 3867U": 8, "AMD A12-9720P": 20, "AMD A9-9420": 15, "AMD A6-9220": 12, "AMD E1-7010": 5, "AMD Ryzen 7 3700U": 40, "AMD Ryzen 5 3500U": 35, "AMD Ryzen 3 3200U": 28, "AMD Athlon 220GE": 15, "AMD Athlon Gold 3150U": 18, "AMD Athlon Silver 3050U": 10, },
        gpus: { "NVIDIA GeForce RTX 4090": 100, "NVIDIA GeForce RTX 4080 Super": 95, "NVIDIA GeForce RTX 4070 Ti Super": 90, "AMD Radeon RX 7900 XTX": 98, "AMD Radeon RX 7900 XT": 92, "Intel Arc A770": 60, "Apple M3 Max (GPU)": 85, "NVIDIA GeForce RTX 3090 Ti": 90, "AMD Radeon RX 6950 XT": 88, "NVIDIA GeForce RTX 3080": 85, "AMD Radeon RX 6800 XT": 82, "NVIDIA GeForce RTX 3070": 78, "AMD Radeon RX 6700 XT": 75, "NVIDIA GeForce RTX 2080 Ti": 70, "AMD Radeon RX 5700 XT": 65, "NVIDIA GeForce GTX 1080 Ti": 60, "AMD Radeon RX 580": 50, "NVIDIA GeForce GTX 1060": 45, "AMD Radeon RX 570": 40, "NVIDIA GeForce GTX 970": 35, "AMD Radeon R9 390": 30, "NVIDIA GeForce GTX 750 Ti": 25, "AMD Radeon HD 7870": 20, "NVIDIA GeForce GT 1030": 15, "Intel Iris Xe Graphics": 10, "Apple M2 (GPU)": 65, "Apple M1 (GPU)": 55, "NVIDIA GeForce RTX 4070 Super": 88, "NVIDIA GeForce RTX 4060 Ti": 80, "NVIDIA GeForce RTX 4060": 70, "AMD Radeon RX 7800 XT": 85, "AMD Radeon RX 7700 XT": 78, "AMD Radeon RX 7600": 68, "Intel Arc A750": 55, "Intel Arc A580": 48, "Intel Arc A380": 40, "NVIDIA GeForce RTX 3070 Ti": 82, "NVIDIA GeForce RTX 3060 Ti": 75, "NVIDIA GeForce RTX 3060": 68, "AMD Radeon RX 6700": 70, "AMD Radeon RX 6600 XT": 65, "AMD Radeon RX 6600": 60, "NVIDIA GeForce RTX 2070 Super": 65, "NVIDIA GeForce RTX 2060 Super": 60, "NVIDIA GeForce RTX 2060": 55, "AMD Radeon RX 5600 XT": 58, "AMD Radeon RX 5500 XT": 52, "NVIDIA GeForce GTX 1660 Super": 50, "NVIDIA GeForce GTX 1650 Super": 45, "NVIDIA GeForce GTX 1650": 40, "AMD Radeon RX 590": 48, "AMD Radeon RX 560": 38, "NVIDIA GeForce GTX 1070 Ti": 55, "NVIDIA GeForce GTX 1070": 52, "NVIDIA GeForce GTX 1050 Ti": 30, "NVIDIA GeForce GTX 1050": 28, "AMD Radeon R9 Fury X": 55, "AMD Radeon R9 Nano": 50, "AMD Radeon R9 380": 28, "NVIDIA GeForce GTX 980 Ti": 58, "NVIDIA GeForce GTX 980": 52, "NVIDIA GeForce GTX 960": 32, "AMD Radeon HD 7970": 35, "AMD Radeon HD 7950": 30, "AMD Radeon HD 7770": 18, "NVIDIA GeForce GTX 660 Ti": 22, "NVIDIA GeForce GTX 660": 20, "NVIDIA GeForce GT 730": 10, "AMD Radeon R7 240": 8, "Intel UHD Graphics 770": 5, "Intel UHD Graphics 630": 3, "Apple M3 Pro (GPU)": 75, "Apple M3 (GPU)": 68, "Apple M2 Pro (GPU)": 70, "Apple M2 Max (GPU)": 78, "Apple M1 Pro (GPU)": 60, "Apple M1 Max (GPU)": 70, "NVIDIA GeForce RTX 4050 Laptop": 70, "NVIDIA GeForce RTX 4060 Laptop": 75, "NVIDIA GeForce RTX 4070 Laptop": 80, "NVIDIA GeForce RTX 4080 Laptop": 88, "NVIDIA GeForce RTX 4090 Laptop": 92, "AMD Radeon RX 7600S": 65, "AMD Radeon RX 7700S": 70, "AMD Radeon RX 7800S": 75, "AMD Radeon RX 7900S": 80, "Intel Arc A570M": 50, "Intel Arc A550M": 45, "Intel Arc A530M": 40, "Intel Arc A370M": 35, "Intel Arc A350M": 30, "Intel Iris Xe Graphics G7": 12, "Intel Iris Plus Graphics": 8, "Intel UHD Graphics": 5, "Apple M3 Pro (Laptop GPU)": 80, "Apple M3 Max (Laptop GPU)": 88, "Apple M2 Pro (Laptop GPU)": 75, "Apple M2 Max (Laptop GPU)": 83, "Apple M1 Pro (Laptop GPU)": 65, "Apple M1 Max (Laptop GPU)": 75, "NVIDIA GeForce RTX 3050 Laptop": 60, "NVIDIA GeForce RTX 3050 Ti Laptop": 62, "NVIDIA GeForce RTX 3060 Laptop": 68, "NVIDIA GeForce RTX 3070 Laptop": 75, "NVIDIA GeForce RTX 3080 Laptop": 82, "AMD Radeon RX 6600M": 58, "AMD Radeon RX 6700M": 65, "AMD Radeon RX 6800M": 72, "AMD Radeon RX 6850M XT": 78, "Intel Iris Xe Max": 15, "NVIDIA GeForce GTX 1650 Laptop": 35, "NVIDIA GeForce GTX 1660 Ti Laptop": 48, "NVIDIA GeForce GTX 1050 Laptop": 25, "NVIDIA GeForce GTX 1060 Laptop": 40, "NVIDIA GeForce GTX 1070 Laptop": 50, "NVIDIA GeForce GTX 1080 Laptop": 55, "AMD Radeon RX 560X": 30, "AMD Radeon RX 550X": 25, "AMD Radeon RX 540X": 20, "NVIDIA GeForce MX450": 18, "NVIDIA GeForce MX350": 15, "NVIDIA GeForce MX250": 12, "NVIDIA GeForce MX150": 10, "AMD Radeon 680M": 18, "AMD Radeon 660M": 15, "AMD Radeon 610M": 10, "AMD Radeon Vega 8": 10, "AMD Radeon Vega 7": 8, "AMD Radeon Vega 6": 6, },
        ramImpact: { "8": 0.9, "16": 1.0, "32": 1.05, "64": 1.1 },
        purposeImpact: { gaming: { cpu: 0.9, gpu: 1.1 }, streaming: { cpu: 1.1, gpu: 1.0 }, video_editing: { cpu: 1.15, gpu: 0.95 }, "3d_rendering": { cpu: 1.05, gpu: 1.05 }, general: { cpu: 1.0, gpu: 1.0 } },
        resolutionImpact: { "1080p": { cpu: 1.05, gpu: 0.9 }, "1440p": { cpu: 1.0, gpu: 1.0 }, "4k": { cpu: 0.9, gpu: 1.15 }, ultrawide: { cpu: 0.95, gpu: 1.05 } }
    };

    const dom = {
        calculatorView: document.getElementById('calculator-view'),
        resultsView: document.getElementById('results-view'),
        cpuSelect: document.getElementById('cpu-select'),
        gpuSelect: document.getElementById('gpu-select'),
        ramSelect: document.getElementById('ram-select'),
        resolutionSelect: document.getElementById('resolution-select'),
        purposeSelect: document.getElementById('purpose-select'),
        calculateBtn: document.getElementById('calculate-btn'),
        toggleAdvancedBtn: document.getElementById('toggle-advanced'),
        advancedContent: document.getElementById('advanced-content'),
        themeToggle: document.getElementById('theme-toggle'),
    };
        // --- NEW HELPER FUNCTION FOR OPTION 2 ---
    // This function gets the component's score and its image URL.
    function getComponentInfo(type, name) {
        const componentData = data[type][name];
        let score = 0;
        let imageUrl = '';

        // Check if the data is in the new {score, imageUrl} format
        if (typeof componentData === 'object' && componentData !== null) {
            score = componentData.score;
            imageUrl = componentData.imageUrl; // Use the specific image if it exists
        } else {
            score = componentData || 0; // Otherwise, just get the score
        }

        // If no specific imageUrl was found, generate one automatically using logo.dev
        if (!imageUrl) {
            let brand = "chip"; // A generic fallback
            const lowerCaseName = name.toLowerCase();

            if (lowerCaseName.includes("intel")) brand = "intel";
            else if (lowerCaseName.includes("amd") || lowerCaseName.includes("ryzen") || lowerCaseName.includes("radeon")) brand = "amd";
            else if (lowerCaseName.includes("nvidia") || lowerCaseName.includes("geforce")) brand = "nvidia";
            else if (lowerCaseName.includes("apple")) brand = "apple";
            
            // Construct the URL for logo.dev
            // Note: logo.dev might not have every brand, but it's great for major ones.
            if(brand !== "chip") {
                 imageUrl = `https://logo.dev/${brand}.com`;
            } else {
                 // Fallback to your original placeholder if no brand is matched
                 imageUrl = (type === 'cpus') ? "https://i.imgur.com/PHYyIxl.png" : "https://i.imgur.com/Jprx55s.png";
            }
        }
        
        return { score, imageUrl };
    }

    function populateDropdown(selectElement, data) {
        Object.keys(data).sort().forEach(item => {
            selectElement.add(new Option(item, item));
        });
    }

        function calculateBottleneck() {
        const selected = {
            cpu: dom.cpuSelect.value, gpu: dom.gpuSelect.value, ram: dom.ramSelect.value,
            resolution: dom.resolutionSelect.value, purpose: dom.purposeSelect.value
        };

        if (!selected.cpu || !selected.gpu) {
            alert('Please select both a CPU and a GPU.'); return;
        }

        // --- MODIFICATION START ---
        // Use the new helper function to get ALL component info, including image URLs
        const cpuInfo = getComponentInfo('cpus', selected.cpu);
        const gpuInfo = getComponentInfo('gpus', selected.gpu);

        // Use the scores from the info objects for calculations
        const baseScores = { cpu: cpuInfo.score, gpu: gpuInfo.score };
        // --- MODIFICATION END ---
        
        const modifiers = {
            ram: data.ramImpact[selected.ram],
            purpose: data.purposeImpact[selected.purpose],
            resolution: data.resolutionImpact[selected.resolution]
        };

        const finalScores = {
            cpu: baseScores.cpu * modifiers.purpose.cpu * modifiers.ram,
            gpu: baseScores.gpu * modifiers.purpose.gpu * modifiers.resolution.gpu
        };
        
        let bottleneck = { percentage: 0, component: 'None', text: '' };
        if (finalScores.cpu > finalScores.gpu * 1.05) {
            bottleneck.percentage = ((finalScores.cpu - finalScores.gpu) / finalScores.cpu) * 100;
            bottleneck.component = 'CPU';
        } else if (finalScores.gpu > finalScores.cpu * 1.05) {
            bottleneck.percentage = ((finalScores.gpu - finalScores.cpu) / finalScores.gpu) * 100;
            bottleneck.component = 'GPU';
        }

        if (bottleneck.percentage > 20) bottleneck.text = `Severe ${bottleneck.component} Bottleneck`;
        else if (bottleneck.percentage > 10) bottleneck.text = `Moderate ${bottleneck.component} Bottleneck`;
        else if (bottleneck.component !== 'None') bottleneck.text = `Minor ${bottleneck.component} Bottleneck`;
        else bottleneck.text = 'Excellent System Balance';
        
        // --- MODIFICATION: Pass the new info objects to the display function ---
        displayResults(selected, bottleneck, cpuInfo, gpuInfo);
    }
         // --- FINAL, CORRECTED FUNCTION ---
    function displayResults(selected, bottleneck, cpuInfo, gpuInfo) { // Note the arguments from the last step
        dom.calculatorView.classList.add('hidden');
        dom.resultsView.classList.remove('hidden');

        let summaryColor = bottleneck.percentage > 10 ? 'var(--accent)' : 'var(--success)';
        let summaryText = bottleneck.component === 'CPU' ? `Your GPU is being limited by your CPU's performance.` :
                          bottleneck.component === 'GPU' ? `Your CPU is powerful enough for a stronger GPU.` :
                          'Your components are very well-balanced for this workload.';
        
        // --- NEW: LOGIC TO GET THE CORRECT LOGO URL ---
        const brandToDomain = {
            intel: "intel.com",
            amd: "amd.com",
            nvidia: "nvidia.com",
            apple: "apple.com"
        };
        
        const getLogoUrl = (name) => {
            const lowerCaseName = name.toLowerCase();
            for (const brand in brandToDomain) {
                if (lowerCaseName.includes(brand)) {
                    // Use a reliable service that provides direct image links
                    return `https://icons.duckduckgo.com/ip3/${brandToDomain[brand]}.ico`;
                }
            }
            return null; // Return null if no brand is found
        };

        const cpuLogoUrl = getLogoUrl(selected.cpu);
        const gpuLogoUrl = getLogoUrl(selected.gpu);

        // --- NEW: DEFINE THE FALLBACK IMAGES ---
        const cpuFallbackImage = "https://i.imgur.com/PHYyIxl.png";
        const gpuFallbackImage = "https://i.imgur.com/Jprx55s.png";
        
        dom.resultsView.innerHTML = `
            <h2>Bottleneck Analysis</h2>
            <div class="bottleneck-summary" style="border-color: ${summaryColor}; background-color: ${summaryColor}1A;">
                <h3 style="color: ${summaryColor};">${bottleneck.text}</h3>
                <p>${summaryText}</p>
            </div>
            <div class="results-card">
                <h4>Bottleneck: ${bottleneck.percentage.toFixed(1)}% at ${dom.resolutionSelect.options[dom.resolutionSelect.selectedIndex].text}</h4>
                <div class="progress-bar-container">
                    <div class="progress-bar" style="width: ${bottleneck.percentage.toFixed(1)}%; background-color: ${summaryColor};">${bottleneck.percentage.toFixed(1)}%</div>
                </div>
            </div>
            <div class="component-analysis">
                <div class="component-card">
                    <h4>Processor (CPU)</h4>
                    
                    <!-- CRITICAL FIX: The 'onerror' attribute provides a fallback -->
                    <img src="${cpuLogoUrl || cpuFallbackImage}" 
                         onerror="this.onerror=null; this.src='${cpuFallbackImage}';" 
                         alt="${selected.cpu} logo">
                    
                    <p><strong>${selected.cpu}</strong></p>
                    <a href="https://cpu.userbenchmark.com/Search?searchTerm=${encodeURIComponent(selected.cpu)}" target="_blank" rel="noopener">View Benchmarks →</a>
                </div>
                <div class="component-card">
                    <h4>Graphics Card (GPU)</h4>
                    
                    <!-- CRITICAL FIX: The 'onerror' attribute provides a fallback -->
                    <img src="${gpuLogoUrl || gpuFallbackImage}" 
                         onerror="this.onerror=null; this.src='${gpuFallbackImage}';" 
                         alt="${selected.gpu} logo">
                    
                    <p><strong>${selected.gpu}</strong></p>
                    <a href="https://gpu.userbenchmark.com/Search?searchTerm=${encodeURIComponent(selected.gpu)}" target="_blank" rel="noopener">View Benchmarks →</a>
                </div>
            </div>
            <div class="performance-details">
                <h4>Recommendations & Insights</h4>
                <ul>
                    <li><strong>System Balance:</strong> ${bottleneck.component === 'None' ? 'Your system is well-balanced.' : `Your <strong>${bottleneck.component}</strong> is the limiting factor.`}</li>
                    <li><strong>Gaming Performance:</strong> ${bottleneck.component === 'CPU' ? 'In CPU-heavy games (e.g., strategy, simulations), you may see inconsistent framerates. Consider lowering settings like physics or NPC density.' : 'Your system is well-suited for GPU-intensive games. You can likely increase graphical settings without a major performance hit.'}</li>
                    <li><strong>Resolution Impact:</strong> At ${dom.resolutionSelect.options[dom.resolutionSelect.selectedIndex].text}, the workload is ${data.resolutionImpact[selected.resolution].gpu > 1 ? 'heavily placed on the GPU' : 'balanced between the CPU and GPU'}.</li>
                    ${bottleneck.percentage > 10 ? `<li><strong>Upgrade Path:</strong> To improve performance for this workload, upgrading your <strong>${bottleneck.component}</strong> would yield the best results.</li>` : ''}
                </ul>
            </div>
            <div class="action-buttons">
                <button id="new-calculation-btn">Calculate Again</button>
            </div>
        `;
        document.getElementById('new-calculation-btn').addEventListener('click', () => {
            dom.resultsView.innerHTML = ''; // Clear the results
            dom.resultsView.classList.add('hidden');
            dom.calculatorView.classList.remove('hidden');
        });
    }

    function setupTheme() {
        const storedTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const currentTheme = storedTheme || (systemPrefersDark ? 'dark-mode' : 'light-mode');
        
        document.body.classList.toggle('dark-mode', currentTheme === 'dark-mode');
        dom.themeToggle.checked = currentTheme === 'dark-mode';

        dom.themeToggle.addEventListener('change', (e) => {
            const theme = e.target.checked ? 'dark-mode' : 'light-mode';
            document.body.classList.toggle('dark-mode', e.target.checked);
            localStorage.setItem('theme', theme);
        });
    }

    // Initial Setup
    populateDropdown(dom.cpuSelect, data.cpus);
    populateDropdown(dom.gpuSelect, data.gpus);
    setupTheme();

    // Event Listeners
    dom.calculateBtn.addEventListener('click', calculateBottleneck);
    dom.toggleAdvancedBtn.addEventListener('click', () => {
        const isHidden = dom.advancedContent.classList.toggle('hidden');
        dom.toggleAdvancedBtn.textContent = isHidden ? 'Advanced Options ▼' : 'Advanced Options ▲';
    });
    document.querySelectorAll('.faq-question').forEach(button => {
        button.addEventListener('click', () => {
            const answer = button.nextElementSibling;
            button.classList.toggle('active');
            answer.style.maxHeight = button.classList.contains('active') ? answer.scrollHeight + "px" : null;
        });
    });
});
</script>
